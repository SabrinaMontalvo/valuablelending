<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Valuable Calculator‚Ñ¢ ‚Äî Old School Mortgage Tools</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <img src="/icons/logo-vc.png" alt="Valuable Calculator logo"
         style="height:44px;width:auto;display:none;" onload="this.style.display='block'">
    <h1>Valuable Calculator‚Ñ¢ ‚Äî Old School Mortgage Tools</h1>
  </header>

  <main class="wrap">

    <!-- Collapsible Calculator -->
    <section class="g4">
      <div class="card">
        <details open>
          <summary style="cursor:pointer;font-weight:600">üñ© Old-School Calculator</summary>
          <div style="margin-top:12px">
            <div id="screen" class="calc-screen">0</div>
            <div class="keys">
              <button class="key" data-k="7">7</button>
              <button class="key" data-k="8">8</button>
              <button class="key" data-k="9">9</button>
              <button class="key" data-k="/">√∑</button>

              <button class="key" data-k="4">4</button>
              <button class="key" data-k="5">5</button>
              <button class="key" data-k="6">6</button>
              <button class="key" data-k="*">√ó</button>

              <button class="key" data-k="1">1</button>
              <button class="key" data-k="2">2</button>
              <button class="key" data-k="3">3</button>
              <button class="key" data-k="-">‚àí</button>

              <button class="key" data-k="0">0</button>
              <button class="key" data-k=".">.</button>
              <button class="key" data-k="=">=</button>
              <button class="key" data-k="+">+</button>

              <button class="key" data-k="C" style="grid-column:span 2">C</button>
              <button class="key" data-k="‚å´" style="grid-column:span 2">‚å´</button>
            </div>
            <p class="note">Tip: you can also type numbers and operators on your keyboard</p>
          </div>
        </details>
      </div>
    </section>

    <!-- Equity / LTV -->
    <section class="g8">
      <div class="card">
        <h2>üè† Equity Estimator with LTV Assumption</h2>
        <div class="grid">
          <div class="g6">
            <label>Estimated Home Value ($)</label>
            <input id="v_value" type="number" value="330000" step="1000">
          </div>
          <div class="g6">
            <label>Primary Mortgage Balance ($)</label>
            <input id="v_mort" type="number" value="120000" step="1000">
          </div>
          <div class="g6">
            <label>Other Liens (HELOC / Solar / 2nd) ($)</label>
            <input id="v_other" type="number" value="0" step="500">
          </div>
          <div class="g6">
            <label>Benchmark LTV (%)</label>
            <input id="v_bench" type="number" value="80" step="1">
          </div>
        </div>

        <div class="kpis" style="margin-top:10px">
          <div class="kpi"><div class="label">Total Debt (incl. other)</div><div class="value" id="v_debt">‚Äî</div></div>
          <div class="kpi"><div class="label">LTV</div><div class="value" id="v_ltv">‚Äî</div></div>
          <div class="kpi"><div class="label">Max @ Benchmark</div><div class="value" id="v_max">‚Äî</div></div>
          <div class="kpi"><div class="label">Available @ Benchmark</div><div class="value" id="v_avail">‚Äî</div></div>
        </div>

        <div class="grid" style="margin-top:10px;align-items:center">
          <div class="g6">
            <canvas id="v_donut" class="chart" style="width:100%;height:240px;"></canvas>
            <div class="note" style="margin-top:6px; display:flex; gap:16px; align-items:center; flex-wrap:wrap">
              <span style="display:inline-flex; align-items:center; gap:6px;">
                <span style="width:12px;height:12px;border-radius:3px;background:#C6AA58;display:inline-block"></span> Equity
              </span>
              <span style="display:inline-flex; align-items:center; gap:6px;">
                <span style="width:12px;height:12px;border-radius:3px;background:#01311F;display:inline-block"></span> Debt (Balances)
              </span>
            </div>
          </div>
          <div class="g6 note">
            Value √ó benchmark% = target loan amount. Subtract existing balances to estimate funds available at that LTV. Programs vary; confirm with your lender.
          </div>
        </div>
      </div>
    </section>

    <!-- Amortization -->
    <section class="g8">
      <div class="card">
        <h2>üìà Amortization & Faster Payoff</h2>
        <!-- (inputs and table go here, as I sent in the last message) -->
        <!-- ... -->
      </div>
    </section>

  </main>

  <footer>
    <p>¬© Sabrina Montalvo ‚Äî Valuable Calculator‚Ñ¢</p>
    <p>
      <a href="terms.html">Terms</a> ¬∑ 
      <a href="privacy.html">Privacy</a> ¬∑ 
      <a href="accessibility.html">Accessibility</a>
    </p>
    <p>Educational only; principal &amp; interest shown (escrows not included). Not a commitment to lend. NMLS #575897.</p>
  </footer>

  <script>
  /* ===== Calculator ===== */
  (() => {
    const screen = document.getElementById('screen');
    if (!screen) return;
    let cur='0', op=null, mem=null;
    const render=()=>{screen.textContent = cur;}
    const press=(k)=>{
      if (/^[0-9]$/.test(k)){ cur = (cur==='0') ? k : cur+k; }
      else if (k==='.'){ if(!cur.includes('.')) cur += '.'; }
      else if (k==='C'){ cur='0'; op=null; mem=null; }
      else if (k==='‚å´'){ cur = (cur.length>1)? cur.slice(0,-1):'0'; }
      else if (['+','-','*','/'].includes(k)){ mem=parseFloat(cur); op=k; cur='0'; }
      else if (k==='='){
        if (op && mem!==null){
          const a=mem, b=parseFloat(cur);
          let r=0; if(op==='+') r=a+b; if(op==='-') r=a-b; if(op==='*') r=a*b; if(op==='/') r=b===0?0:a/b;
          cur = String(r); op=null; mem=null;
        }
      }
      render();
    };
    document.querySelectorAll('.key').forEach(btn=>btn.addEventListener('click',()=>press(btn.dataset.k)));
    document.addEventListener('keydown', (e) => {
      const map = { 'Enter':'=', 'Backspace':'‚å´', 'Escape':'C', '*':'*', '/':'/', '+':'+', '-':'-', '.':'.' };
      if (/^[0-9]$/.test(e.key)) { press(e.key); return; }
      if (map[e.key]) { press(map[e.key]); e.preventDefault(); }
    });
    render();
  })();

  /* ===== Equity / LTV JS ===== */
  function money(v){ return (v||0).toLocaleString(undefined,{style:'currency',currency:'USD'}); }
  function vUpdate(){ /* same vUpdate code I gave earlier */ }
  window.addEventListener('load', vUpdate);
  ['v_value','v_mort','v_other','v_bench'].forEach(id=>{
    const el=document.getElementById(id); if(el){ el.addEventListener('input', vUpdate); }
  });

  /* ===== drawDonut ===== */
  function drawDonut(id, ltvPct, equityAmt, debtAmt){ /* full donut code here */ }

  /* ===== Amortization ===== */
  // (full amortization JS code from my previous message goes here)

  </script>
</body>
</html>
